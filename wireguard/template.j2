[Interface]
Address = {{interface["address"]}}
SaveConfig = true
ListenPort = {{interface["port"]}}
PrivateKey = {{pillar["wireguard"]["private_key"]}}

{% for peer in interface["peers"] %}}
[Peer]
PublicKey = {{peer["public_key"]}}
AllowedIPs = {{peer["allowed_ips"]}}
Endpoint = {{peer["endpoint"]}}
{% endfor %}}